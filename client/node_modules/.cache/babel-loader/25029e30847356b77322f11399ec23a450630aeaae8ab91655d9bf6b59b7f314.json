{"ast":null,"code":"var _jsxFileName = \"/Users/dhruva_kumar/Work Space/final project/client/src/pages/Record.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = 'http://192.168.98.141:5001/api/recordings';\nconst Record = () => {\n  _s();\n  const [recording, setRecording] = useState(false);\n  const [mediaStream, setMediaStream] = useState(null);\n  const [mediaRecorder, setMediaRecorder] = useState(null);\n  const [previewUrl, setPreviewUrl] = useState(null);\n  const videoRef = useRef();\n  const chunks = useRef([]);\n  const startRecording = async () => {\n    if (!navigator.mediaDevices || !navigator.mediaDevices.getUserMedia) {\n      alert('Your browser does not support camera/microphone access. Please use the latest Chrome or Safari.');\n      return;\n    }\n    const stream = await navigator.mediaDevices.getUserMedia({\n      video: true,\n      audio: true\n    });\n    setMediaStream(stream);\n    videoRef.current.srcObject = stream;\n    const recorder = new window.MediaRecorder(stream);\n    setMediaRecorder(recorder);\n    chunks.current = [];\n    recorder.ondataavailable = e => {\n      if (e.data.size > 0) chunks.current.push(e.data);\n    };\n    recorder.onstop = async () => {\n      const blob = new Blob(chunks.current, {\n        type: 'video/webm'\n      });\n      setPreviewUrl(URL.createObjectURL(blob));\n      // Upload to backend\n      const formData = new FormData();\n      formData.append('file', blob, 'recording.webm');\n      await fetch(API_URL, {\n        method: 'POST',\n        body: formData\n      });\n    };\n    recorder.start();\n    setRecording(true);\n  };\n  const stopRecording = () => {\n    mediaRecorder.stop();\n    mediaStream.getTracks().forEach(track => track.stop());\n    setRecording(false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-col items-center mt-8\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-2xl font-bold mb-4\",\n      children: \"Record Audio/Video\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"video\", {\n      ref: videoRef,\n      autoPlay: true,\n      playsInline: true,\n      muted: true,\n      className: \"rounded shadow-lg border border-gray-300 w-full max-w-xl h-64 bg-black mb-4\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex gap-4\",\n      children: !recording ? /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: startRecording,\n        className: \"px-4 py-2 bg-green-600 text-white rounded\",\n        children: \"Start Recording\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: stopRecording,\n        className: \"px-4 py-2 bg-red-600 text-white rounded\",\n        children: \"Stop Recording\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), previewUrl && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"font-semibold mb-2\",\n        children: \"Preview\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"video\", {\n        src: previewUrl,\n        controls: true,\n        className: \"rounded border w-full max-w-xl h-64 bg-black\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n};\n_s(Record, \"9oUg84QEyQcMdatcYtTtnRFYAqI=\");\n_c = Record;\nexport default Record;\nvar _c;\n$RefreshReg$(_c, \"Record\");","map":{"version":3,"names":["React","useRef","useState","jsxDEV","_jsxDEV","API_URL","Record","_s","recording","setRecording","mediaStream","setMediaStream","mediaRecorder","setMediaRecorder","previewUrl","setPreviewUrl","videoRef","chunks","startRecording","navigator","mediaDevices","getUserMedia","alert","stream","video","audio","current","srcObject","recorder","window","MediaRecorder","ondataavailable","e","data","size","push","onstop","blob","Blob","type","URL","createObjectURL","formData","FormData","append","fetch","method","body","start","stopRecording","stop","getTracks","forEach","track","className","children","fileName","_jsxFileName","lineNumber","columnNumber","ref","autoPlay","playsInline","muted","onClick","src","controls","_c","$RefreshReg$"],"sources":["/Users/dhruva_kumar/Work Space/final project/client/src/pages/Record.js"],"sourcesContent":["import React, { useRef, useState } from 'react';\n\nconst API_URL = 'http://192.168.98.141:5001/api/recordings';\n\nconst Record = () => {\n  const [recording, setRecording] = useState(false);\n  const [mediaStream, setMediaStream] = useState(null);\n  const [mediaRecorder, setMediaRecorder] = useState(null);\n  const [previewUrl, setPreviewUrl] = useState(null);\n  const videoRef = useRef();\n  const chunks = useRef([]);\n\n  const startRecording = async () => {\n    if (!navigator.mediaDevices || !navigator.mediaDevices.getUserMedia) {\n      alert('Your browser does not support camera/microphone access. Please use the latest Chrome or Safari.');\n      return;\n    }\n    const stream = await navigator.mediaDevices.getUserMedia({ video: true, audio: true });\n    setMediaStream(stream);\n    videoRef.current.srcObject = stream;\n    const recorder = new window.MediaRecorder(stream);\n    setMediaRecorder(recorder);\n    chunks.current = [];\n    recorder.ondataavailable = (e) => {\n      if (e.data.size > 0) chunks.current.push(e.data);\n    };\n    recorder.onstop = async () => {\n      const blob = new Blob(chunks.current, { type: 'video/webm' });\n      setPreviewUrl(URL.createObjectURL(blob));\n      // Upload to backend\n      const formData = new FormData();\n      formData.append('file', blob, 'recording.webm');\n      await fetch(API_URL, { method: 'POST', body: formData });\n    };\n    recorder.start();\n    setRecording(true);\n  };\n\n  const stopRecording = () => {\n    mediaRecorder.stop();\n    mediaStream.getTracks().forEach((track) => track.stop());\n    setRecording(false);\n  };\n\n  return (\n    <div className=\"flex flex-col items-center mt-8\">\n      <h2 className=\"text-2xl font-bold mb-4\">Record Audio/Video</h2>\n      <video ref={videoRef} autoPlay playsInline muted className=\"rounded shadow-lg border border-gray-300 w-full max-w-xl h-64 bg-black mb-4\" />\n      <div className=\"flex gap-4\">\n        {!recording ? (\n          <button onClick={startRecording} className=\"px-4 py-2 bg-green-600 text-white rounded\">Start Recording</button>\n        ) : (\n          <button onClick={stopRecording} className=\"px-4 py-2 bg-red-600 text-white rounded\">Stop Recording</button>\n        )}\n      </div>\n      {previewUrl && (\n        <div className=\"mt-4\">\n          <h3 className=\"font-semibold mb-2\">Preview</h3>\n          <video src={previewUrl} controls className=\"rounded border w-full max-w-xl h-64 bg-black\" />\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Record; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}